
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>1. Preparación dataset &#8212; Predicción del precio futuro de ethereum</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2. Análisis exploratorio" href="../intro_anExp.html" />
    <link rel="prev" title="Introducción" href="../intro.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Predicción del precio futuro de ethereum</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Introducción
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Secciones
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   1. Preparación dataset
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../intro_anExp.html">
   2. Análisis exploratorio
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="2_1_analisis_univariado.html">
     2.1. Análisis univariado
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2_2_analisis_bivariado.html">
     2.2. Análisis bivariado
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2_3_analisis_multivariado.html">
     2.3. Análisis multivariado
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../intro_ingAtr_enfVal.html">
   3. Ingeniería de atributos y enfoque de validación
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="3_ingenieria_atributos.html">
     3.1. Ingeniería de atributos
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="4_enfoque_validacion.html">
     3.2. Enfoque de validación
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../intro_modelos.html">
   4. Modelos de predicción
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="5_prediccion.html">
     4.1. Predicción del precio futuro de ethereum
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Anexo
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../intro_anexo.html">
   Anexo
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="1_1_googleTrends.html">
     Preparación de base google trends
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/antobulla/proyectoDS/master?urlpath=tree/sections/1_prepara_datos.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/antobulla/proyectoDS"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/antobulla/proyectoDS/issues/new?title=Issue%20on%20page%20%2Fsections/1_prepara_datos.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/sections/1_prepara_datos.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#google-trends">
   1.1. Google Trends
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#criptomonedas">
   1.2. Criptomonedas
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#union-inputs">
   1.3. Unión inputs
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Preparación dataset</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#google-trends">
   1.1. Google Trends
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#criptomonedas">
   1.2. Criptomonedas
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#union-inputs">
   1.3. Unión inputs
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="preparacion-dataset">
<h1><span class="section-number">1. </span>Preparación dataset<a class="headerlink" href="#preparacion-dataset" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### Cargamos librería </span>
<span class="o">!</span>pip install --upgrade xlrd 
<span class="o">!</span>pip install yfinance 
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> <span class="c1"># numpy y pandas to data wrangling </span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span> <span class="c1"># to work w date</span>
<span class="kn">import</span> <span class="nn">yfinance</span> <span class="k">as</span> <span class="nn">yf</span> <span class="c1"># to import some others data as cryptocurrencies or stocks</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span><span class="p">,</span> <span class="n">reduce</span> <span class="c1"># to transform variable dic in a dataframe  </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: xlrd in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (2.0.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip available: <span class=" -Color -Color-Red">22.2</span> -&gt; <span class=" -Color -Color-Green">22.2.2</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: yfinance in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (0.1.74)
Requirement already satisfied: requests&gt;=2.26 in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (from yfinance) (2.27.1)
Requirement already satisfied: multitasking&gt;=0.0.7 in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (from yfinance) (0.0.11)
Requirement already satisfied: lxml&gt;=4.5.1 in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (from yfinance) (4.9.1)
Requirement already satisfied: numpy&gt;=1.15 in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (from yfinance) (1.22.3)
Requirement already satisfied: pandas&gt;=0.24.0 in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (from yfinance) (1.4.1)
Requirement already satisfied: pytz&gt;=2020.1 in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (from pandas&gt;=0.24.0-&gt;yfinance) (2021.3)
Requirement already satisfied: python-dateutil&gt;=2.8.1 in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (from pandas&gt;=0.24.0-&gt;yfinance) (2.8.2)
Requirement already satisfied: charset-normalizer~=2.0.0 in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (from requests&gt;=2.26-&gt;yfinance) (2.0.4)
Requirement already satisfied: certifi&gt;=2017.4.17 in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (from requests&gt;=2.26-&gt;yfinance) (2021.10.8)
Requirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (from requests&gt;=2.26-&gt;yfinance) (1.26.7)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (from requests&gt;=2.26-&gt;yfinance) (3.3)
Requirement already satisfied: six&gt;=1.5 in /Users/antonellabulla/opt/miniconda3/lib/python3.9/site-packages (from python-dateutil&gt;=2.8.1-&gt;pandas&gt;=0.24.0-&gt;yfinance) (1.16.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip available: <span class=" -Color -Color-Red">22.2</span> -&gt; <span class=" -Color -Color-Green">22.2.2</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">pip install --upgrade pip</span>
</pre></div>
</div>
</div>
</div>
<section id="google-trends">
<h2><span class="section-number">1.1. </span>Google Trends<a class="headerlink" href="#google-trends" title="Permalink to this headline">#</a></h2>
<p>Google trends es una herramienta creada en 2006 por <a class="reference external" href="https://support.google.com/trends/answer/6248105?hl=es&amp;ref_topic=6248052"><em><strong>Google</strong></em></a> que permite monitorear la evolución del número de búsquedas realizadas para una determinada palabra clave o tema a lo largo del tiempo. Todo ello basado en la propia base de datos de Google que almacena todas las búsquedas que los usuarios realizan diariamente. La herramienta permite consultar resultados de búsquedas por país o región (en tiempo real, frecuencia horaria, diaria, semanal o mensual), categoría (finanzas, tecnología, etc.) y tipo de búsqueda (web, imágenes, noticias, compras o búsqueda en YouTube).</p>
<p>Siguiendo a <a class="reference external" href="https://support.google.com/trends/answer/4365533?hl=es"><em><strong>Google</strong></em></a>, las tendencias de búsquedas se presentan a través de un indicador que se construye a partir del siguiente proceso de normalización:</p>
<ul class="simple">
<li><p>Cada punto de datos se divide por el total de búsquedas de la región geográfica y el intervalo de tiempo de interés para comparar su popularidad relativa.</p></li>
<li><p>A continuación, los números resultantes se escalan a un intervalo del 0 al 100 en función de la proporción de un tema con respecto al total de búsquedas sobre todos los temas.</p></li>
</ul>
<p>Por lo tanto, las regiones que registran el mismo interés de búsqueda de un término no siempre tienen los mismos volúmenes de búsquedas totales.</p>
<p>Si bien la plataforma brinda datos de diferente unidad de tiempo, la misma presenta una limitación en la longitud de tiempo a importar. Pedidos para los últimos 7 días importará frecuencias de búsqueda horarias; pedidos con rangos menores a 9 meses importa series diarias; entre 9 meses y 5 años importa series semanales, y posterior a esto construye datos mensuales. Adicionalmente, google trends construye un indicador cuya frecuencia relativa se realiza utilizando el máximo (desconocido para el usuario) del período solicitado como denominador, por lo que la frecuencia se interpreta en relación a un máximo local, que puede cambiar según cambie el rango de tiempo solicitado. Ambas consideraciones generan una complicación al querer importar datos diarios para un período superior a los 5 años. Para solucionar esto, se crea la función <code class="docutils literal notranslate"><span class="pre">daily_gt()</span></code> que importa datos por períodos menores a 9 meses y los normaliza para ajustar las frecuencias a su valor histórico, siguiendo el método en <a class="reference external" href="https://medium.com/&#64;bewerunge.franz/google-trends-how-to-acquire-daily-data-for-broad-time-frames-b6c6dfe200e6"><em><strong>medium</strong></em></a>. En <a class="reference external" href="https://colab.research.google.com/drive/16EsslAqhCxdLE7faten7jimdueDAYsXB#scrollTo=N5B37d9opaMa"><em><strong>1_1_googleTrends</strong></em></a> se corre la función y se importan los datos diarios para el período <em>08/2015-06/2022</em>, estos es, desde el inicio de ethereum hasta la actualidad. En esta sección importamos directamente la base previamente creada.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aux</span> <span class="o">=</span> <span class="s1">&#39;https://docs.google.com/spreadsheets/d/1tHq6j9qVaNOoEEk5FQPpCAMZ6hP2Bn6C/edit?usp=sharing&amp;ouid=105868423796285576163&amp;rtpof=true&amp;sd=true&#39;</span>
<span class="n">link</span> <span class="o">=</span><span class="s1">&#39;https://drive.google.com/uc?id=&#39;</span> <span class="o">+</span> <span class="n">aux</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="n">gtrends</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
<span class="n">gtrends</span> <span class="o">=</span> <span class="n">gtrends</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;Date&quot;</span><span class="p">)</span>
<span class="n">gtrends</span> <span class="o">=</span> <span class="n">gtrends</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">&#39;adjusted&#39;</span> <span class="ow">in</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">gtrends</span><span class="o">.</span><span class="n">columns</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="nn">File ~/opt/miniconda3/lib/python3.9/site-packages/pandas/compat/_optional.py:126,</span> in <span class="ni">import_optional_dependency</span><span class="nt">(name, extra, errors, min_version)</span>
<span class="g g-Whitespace">    </span><span class="mi">125</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">126</span>     <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">127</span> <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>

<span class="nn">File ~/opt/miniconda3/lib/python3.9/importlib/__init__.py:127,</span> in <span class="ni">import_module</span><span class="nt">(name, package)</span>
<span class="g g-Whitespace">    </span><span class="mi">126</span>         <span class="n">level</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="ne">--&gt; </span><span class="mi">127</span> <span class="k">return</span> <span class="n">_bootstrap</span><span class="o">.</span><span class="n">_gcd_import</span><span class="p">(</span><span class="n">name</span><span class="p">[</span><span class="n">level</span><span class="p">:],</span> <span class="n">package</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>

<span class="nn">File &lt;frozen importlib._bootstrap&gt;:1030,</span> in <span class="ni">_gcd_import</span><span class="nt">(name, package, level)</span>

<span class="nn">File &lt;frozen importlib._bootstrap&gt;:1007,</span> in <span class="ni">_find_and_load</span><span class="nt">(name, import_)</span>

<span class="nn">File &lt;frozen importlib._bootstrap&gt;:984,</span> in <span class="ni">_find_and_load_unlocked</span><span class="nt">(name, import_)</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;openpyxl&#39;

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">ImportError</span><span class="g g-Whitespace">                               </span>Traceback (most recent call last)
<span class="nn">Input In [2],</span> in <span class="ni">&lt;cell line: 3&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">aux</span> <span class="o">=</span> <span class="s1">&#39;https://docs.google.com/spreadsheets/d/1tHq6j9qVaNOoEEk5FQPpCAMZ6hP2Bn6C/edit?usp=sharing&amp;ouid=105868423796285576163&amp;rtpof=true&amp;sd=true&#39;</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">link</span> <span class="o">=</span><span class="s1">&#39;https://drive.google.com/uc?id=&#39;</span> <span class="o">+</span> <span class="n">aux</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="n">gtrends</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">gtrends</span> <span class="o">=</span> <span class="n">gtrends</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;Date&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">gtrends</span> <span class="o">=</span> <span class="n">gtrends</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">&#39;adjusted&#39;</span> <span class="ow">in</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">gtrends</span><span class="o">.</span><span class="n">columns</span><span class="p">]]</span>

<span class="nn">File ~/opt/miniconda3/lib/python3.9/site-packages/pandas/util/_decorators.py:311,</span> in <span class="ni">deprecate_nonkeyword_arguments.&lt;locals&gt;.decorate.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">305</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">num_allow_args</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">306</span>     <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">307</span>         <span class="n">msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">arguments</span><span class="o">=</span><span class="n">arguments</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">308</span>         <span class="ne">FutureWarning</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">309</span>         <span class="n">stacklevel</span><span class="o">=</span><span class="n">stacklevel</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">310</span>     <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">311</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~/opt/miniconda3/lib/python3.9/site-packages/pandas/io/excel/_base.py:457,</span> in <span class="ni">read_excel</span><span class="nt">(io, sheet_name, header, names, index_col, usecols, squeeze, dtype, engine, converters, true_values, false_values, skiprows, nrows, na_values, keep_default_na, na_filter, verbose, parse_dates, date_parser, thousands, decimal, comment, skipfooter, convert_float, mangle_dupe_cols, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">455</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">io</span><span class="p">,</span> <span class="n">ExcelFile</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">456</span>     <span class="n">should_close</span> <span class="o">=</span> <span class="kc">True</span>
<span class="ne">--&gt; </span><span class="mi">457</span>     <span class="n">io</span> <span class="o">=</span> <span class="n">ExcelFile</span><span class="p">(</span><span class="n">io</span><span class="p">,</span> <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">458</span> <span class="k">elif</span> <span class="n">engine</span> <span class="ow">and</span> <span class="n">engine</span> <span class="o">!=</span> <span class="n">io</span><span class="o">.</span><span class="n">engine</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">459</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">460</span>         <span class="s2">&quot;Engine should not be specified when passing &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">461</span>         <span class="s2">&quot;an ExcelFile - ExcelFile already has the engine set&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">462</span>     <span class="p">)</span>

<span class="nn">File ~/opt/miniconda3/lib/python3.9/site-packages/pandas/io/excel/_base.py:1419,</span> in <span class="ni">ExcelFile.__init__</span><span class="nt">(self, path_or_buffer, engine, storage_options)</span>
<span class="g g-Whitespace">   </span><span class="mi">1416</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">engine</span>
<span class="g g-Whitespace">   </span><span class="mi">1417</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage_options</span> <span class="o">=</span> <span class="n">storage_options</span>
<span class="ne">-&gt; </span><span class="mi">1419</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reader</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engines</span><span class="p">[</span><span class="n">engine</span><span class="p">](</span><span class="bp">self</span><span class="o">.</span><span class="n">_io</span><span class="p">,</span> <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">)</span>

<span class="nn">File ~/opt/miniconda3/lib/python3.9/site-packages/pandas/io/excel/_openpyxl.py:524,</span> in <span class="ni">OpenpyxlReader.__init__</span><span class="nt">(self, filepath_or_buffer, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">509</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">510</span>     <span class="bp">self</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">511</span>     <span class="n">filepath_or_buffer</span><span class="p">:</span> <span class="n">FilePath</span> <span class="o">|</span> <span class="n">ReadBuffer</span><span class="p">[</span><span class="nb">bytes</span><span class="p">],</span>
<span class="g g-Whitespace">    </span><span class="mi">512</span>     <span class="n">storage_options</span><span class="p">:</span> <span class="n">StorageOptions</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">513</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">514</span>     <span class="sd">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">515</span><span class="sd">     Reader using openpyxl engine.</span>
<span class="g g-Whitespace">    </span><span class="mi">516</span><span class="sd"> </span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">    </span><span class="mi">522</span><span class="sd">         passed to fsspec for appropriate URLs (see ``_get_filepath_or_buffer``)</span>
<span class="g g-Whitespace">    </span><span class="mi">523</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">524</span>     <span class="n">import_optional_dependency</span><span class="p">(</span><span class="s2">&quot;openpyxl&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">525</span>     <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">storage_options</span><span class="o">=</span><span class="n">storage_options</span><span class="p">)</span>

<span class="nn">File ~/opt/miniconda3/lib/python3.9/site-packages/pandas/compat/_optional.py:129,</span> in <span class="ni">import_optional_dependency</span><span class="nt">(name, extra, errors, min_version)</span>
<span class="g g-Whitespace">    </span><span class="mi">127</span> <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">128</span>     <span class="k">if</span> <span class="n">errors</span> <span class="o">==</span> <span class="s2">&quot;raise&quot;</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">129</span>         <span class="k">raise</span> <span class="ne">ImportError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">130</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">131</span>         <span class="k">return</span> <span class="kc">None</span>

<span class="ne">ImportError</span>: Missing optional dependency &#39;openpyxl&#39;.  Use pip or conda to install openpyxl.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gtrends</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-84b6af86-6091-4902-a821-83ec487a7165">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cryptocurrency_adjusted</th>
      <th>crypto_adjusted</th>
      <th>bitcoin_adjusted</th>
      <th>bitcoin price_adjusted</th>
      <th>ethereum_adjusted</th>
      <th>ethereum price_adjusted</th>
      <th>stock market_adjusted</th>
      <th>wall street_adjusted</th>
      <th>interest rate_adjusted</th>
      <th>fed_adjusted</th>
      <th>...</th>
      <th>inflation_adjusted</th>
      <th>taxes_adjusted</th>
      <th>digital_wallet_top_adjusted</th>
      <th>covid19_adjusted</th>
      <th>pandemic_adjusted</th>
      <th>elon musk_adjusted</th>
      <th>do kwon_adjusted</th>
      <th>future_commodities_adjusted</th>
      <th>banking_adjusted</th>
      <th>foreign_currency_adjusted</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2015-08-01</th>
      <td>0.0</td>
      <td>0.63</td>
      <td>3.00</td>
      <td>0.71</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>1.45</td>
      <td>8.64</td>
      <td>16.38</td>
      <td>6.37</td>
      <td>...</td>
      <td>11.04</td>
      <td>29.68</td>
      <td>15.30</td>
      <td>0.00</td>
      <td>0.45</td>
      <td>0.60</td>
      <td>7.0</td>
      <td>27.00</td>
      <td>63.48</td>
      <td>26.00</td>
    </tr>
    <tr>
      <th>2015-08-02</th>
      <td>0.0</td>
      <td>0.64</td>
      <td>2.31</td>
      <td>0.53</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>1.45</td>
      <td>9.76</td>
      <td>13.86</td>
      <td>5.88</td>
      <td>...</td>
      <td>12.96</td>
      <td>25.97</td>
      <td>9.86</td>
      <td>0.00</td>
      <td>0.70</td>
      <td>0.66</td>
      <td>6.3</td>
      <td>22.95</td>
      <td>49.68</td>
      <td>24.44</td>
    </tr>
    <tr>
      <th>2015-08-03</th>
      <td>0.0</td>
      <td>0.72</td>
      <td>2.19</td>
      <td>0.44</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>2.90</td>
      <td>10.24</td>
      <td>23.10</td>
      <td>8.33</td>
      <td>...</td>
      <td>18.24</td>
      <td>41.87</td>
      <td>11.39</td>
      <td>0.00</td>
      <td>0.44</td>
      <td>0.60</td>
      <td>5.9</td>
      <td>32.40</td>
      <td>92.00</td>
      <td>34.84</td>
    </tr>
    <tr>
      <th>2015-08-04</th>
      <td>0.0</td>
      <td>0.90</td>
      <td>2.16</td>
      <td>0.46</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>2.61</td>
      <td>9.28</td>
      <td>20.16</td>
      <td>9.31</td>
      <td>...</td>
      <td>17.52</td>
      <td>43.99</td>
      <td>13.09</td>
      <td>0.00</td>
      <td>0.60</td>
      <td>0.63</td>
      <td>8.5</td>
      <td>31.95</td>
      <td>87.40</td>
      <td>34.84</td>
    </tr>
    <tr>
      <th>2015-08-05</th>
      <td>0.0</td>
      <td>0.79</td>
      <td>1.92</td>
      <td>0.37</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>2.61</td>
      <td>9.60</td>
      <td>21.84</td>
      <td>9.31</td>
      <td>...</td>
      <td>16.32</td>
      <td>42.93</td>
      <td>11.22</td>
      <td>0.00</td>
      <td>0.56</td>
      <td>0.78</td>
      <td>8.6</td>
      <td>31.95</td>
      <td>85.56</td>
      <td>34.32</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2022-06-10</th>
      <td>5.0</td>
      <td>6.46</td>
      <td>8.41</td>
      <td>8.40</td>
      <td>9.10</td>
      <td>7.56</td>
      <td>18.00</td>
      <td>6.48</td>
      <td>61.00</td>
      <td>10.07</td>
      <td>...</td>
      <td>100.00</td>
      <td>32.34</td>
      <td>34.30</td>
      <td>4.48</td>
      <td>3.92</td>
      <td>2.00</td>
      <td>0.9</td>
      <td>50.05</td>
      <td>71.44</td>
      <td>85.50</td>
    </tr>
    <tr>
      <th>2022-06-11</th>
      <td>5.0</td>
      <td>7.14</td>
      <td>8.99</td>
      <td>9.80</td>
      <td>15.34</td>
      <td>16.74</td>
      <td>8.70</td>
      <td>5.94</td>
      <td>53.00</td>
      <td>6.89</td>
      <td>...</td>
      <td>53.00</td>
      <td>23.10</td>
      <td>34.30</td>
      <td>4.06</td>
      <td>3.29</td>
      <td>2.00</td>
      <td>0.9</td>
      <td>38.50</td>
      <td>50.16</td>
      <td>65.70</td>
    </tr>
    <tr>
      <th>2022-06-12</th>
      <td>7.2</td>
      <td>8.16</td>
      <td>11.02</td>
      <td>11.20</td>
      <td>15.34</td>
      <td>15.39</td>
      <td>7.20</td>
      <td>6.03</td>
      <td>46.00</td>
      <td>7.42</td>
      <td>...</td>
      <td>46.00</td>
      <td>21.78</td>
      <td>30.80</td>
      <td>3.92</td>
      <td>3.71</td>
      <td>2.40</td>
      <td>0.9</td>
      <td>35.42</td>
      <td>41.80</td>
      <td>59.40</td>
    </tr>
    <tr>
      <th>2022-06-13</th>
      <td>14.6</td>
      <td>15.98</td>
      <td>28.13</td>
      <td>35.00</td>
      <td>26.00</td>
      <td>27.00</td>
      <td>30.00</td>
      <td>7.38</td>
      <td>66.00</td>
      <td>16.43</td>
      <td>...</td>
      <td>62.00</td>
      <td>34.98</td>
      <td>35.70</td>
      <td>4.34</td>
      <td>4.41</td>
      <td>2.00</td>
      <td>0.6</td>
      <td>55.44</td>
      <td>68.40</td>
      <td>84.60</td>
    </tr>
    <tr>
      <th>2022-06-14</th>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>...</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
  </tbody>
</table>
<p>2510 rows × 32 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-84b6af86-6091-4902-a821-83ec487a7165')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-84b6af86-6091-4902-a821-83ec487a7165 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-84b6af86-6091-4902-a821-83ec487a7165');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
</div></div>
</div>
<p>Como se puede ver, el <em>dataset</em> <em>gtrends</em> presenta las tendencias de búsquedas diarias de los términos y temas que consideramos relevantes para predecir el precio de la criptomoneda ethereum. Cada palabra o tópico presenta tres indicadores: la base diaria, histórica y diaria ajustada. Sin embargo, para el ejercicio de predicción utilizaremos solamente la base diaria ajustada de cada término. Los detalles sobre los tres tipos de indicadores y el motivo de utilización de la serie ajustada también se explican en <a class="reference external" href="https://colab.research.google.com/drive/16EsslAqhCxdLE7faten7jimdueDAYsXB#scrollTo=N5B37d9opaMa"><em><strong>1_1_googleTrends</strong></em></a>.</p>
</section>
<section id="criptomonedas">
<h2><span class="section-number">1.2. </span>Criptomonedas<a class="headerlink" href="#criptomonedas" title="Permalink to this headline">#</a></h2>
<p>El siguiente paso es construir la base de criptomonedas. Por un lado, importamos información de ethereum, nuestro target. Por otro lado, también obtenemos información de bitcoin, debido a que los cambios en la cotización de esta pueden estar correlacionados con los cambios en ethereum, por lo que también la incluimos a la lista de predictores.</p>
<p><a class="reference external" href="https://www.cryptodatadownload.com/"><em><strong>CryptoDataDownload</strong></em></a> es una plataforma que brinda, entre otras cosas, información histórica de la cotización de diferentes criptomonedas a partir de la <strong>API Poloniex</strong>. Entre ellas, se encuentran las cotizaciones de ethereum y bitcoin. Los datos comprenden el precio de apertura y clausura en un momento del tiempo dado (horario, diario, etc.), el precio más alto y bajo, y el volumen de transacciones. Para ambas criptomonedas, importamos para el período 08/2015-06/2022. En el caso de ethereum, también promediamos el precio de cierre y apertura diario, nuestra variable a predecir y computamos los primeros 7 rezagos del promedio. Con los rezagos estaríamos teniendo columnas de precios diarios futuros, desde el día siguiente al actual hasta el mismo día de la siguiente semana al día corriente.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ### Ethereum</span>
<span class="c1"># variable importada de Poloniex Data (incluye valores anteriores a 2017)</span>
<span class="n">ethereum1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://www.cryptodatadownload.com/cdd/Poloniex_ETHUSDT_d.csv&#39;</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ethereum1</span> <span class="o">=</span> <span class="n">ethereum1</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="n">ethereum1</span> <span class="o">=</span> <span class="n">ethereum1</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="n">ethereum1</span><span class="o">.</span><span class="n">index</span>
<span class="n">ethereum1</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">ethereum1</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">ethereum1</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">date</span><span class="p">()</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">ethereum1</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
<span class="n">ethereum1</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span>
<span class="n">ethereum1</span> <span class="o">=</span> <span class="n">ethereum1</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">col</span><span class="p">:</span> <span class="n">col</span><span class="o">+</span><span class="s1">&#39;_eth&#39;</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">ethereum1</span><span class="o">.</span><span class="n">columns</span><span class="p">})</span>
<span class="c1"># promedio cierre y apertura precio ethereum</span>
<span class="n">ethereum1</span><span class="p">[</span><span class="s1">&#39;eth_close_open_mean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ethereum1</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="s1">&#39;close_eth&#39;</span><span class="p">,</span>	<span class="s1">&#39;open_eth&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># agregamos a la variable los rezagos de los 7 días de la variable a predecir  </span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">):</span>
  <span class="n">ethereum1</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;y_lag</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ethereum1</span><span class="p">[</span><span class="s1">&#39;eth_close_open_mean&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">-</span><span class="n">i</span><span class="p">)</span>

<span class="c1">### Bitcoin</span>
<span class="n">bitcoin</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://www.cryptodatadownload.com/cdd/Poloniex_BTCUSDT_d.csv&#39;</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">bitcoin</span> <span class="o">=</span> <span class="n">bitcoin</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="n">bitcoin</span> <span class="o">=</span> <span class="n">bitcoin</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="n">bitcoin</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">bitcoin</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">bitcoin</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">date</span><span class="p">()</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">bitcoin</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
<span class="n">bitcoin</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span>
<span class="n">bitcoin</span> <span class="o">=</span> <span class="n">bitcoin</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">col</span><span class="p">:</span> <span class="n">col</span><span class="o">+</span><span class="s1">&#39;_btc&#39;</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">bitcoin</span><span class="o">.</span><span class="n">columns</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<p>Al tener ambas bases de datos pasamos a unirlas según el índice que sería en este caso la fecha.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Unión criptomonedas</span>
<span class="n">crypto_pol</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ethereum1</span><span class="p">,</span> <span class="n">bitcoin</span><span class="p">,</span> <span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">del</span> <span class="p">[</span><span class="n">ethereum1</span><span class="p">,</span> <span class="n">bitcoin</span><span class="p">]</span>
<span class="n">crypto_pol</span> <span class="o">=</span> <span class="n">crypto_pol</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;symbol_eth&#39;</span><span class="p">,</span><span class="s1">&#39;symbol_btc&#39;</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> 
<span class="n">crypto_pol</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">crypto_pol</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## visualizamos</span>
<span class="n">crypto_pol</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-9339640f-b139-424d-b4e1-7b1340ae1a92">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>unix_eth</th>
      <th>open_eth</th>
      <th>high_eth</th>
      <th>low_eth</th>
      <th>close_eth</th>
      <th>Volume ETH_eth</th>
      <th>Volume USDT_eth</th>
      <th>eth_close_open_mean</th>
      <th>y_lag1</th>
      <th>y_lag2</th>
      <th>...</th>
      <th>y_lag5</th>
      <th>y_lag6</th>
      <th>y_lag7</th>
      <th>unix_btc</th>
      <th>open_btc</th>
      <th>high_btc</th>
      <th>low_btc</th>
      <th>close_btc</th>
      <th>Volume BTC_btc</th>
      <th>Volume USDT_btc</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2015-08-08</th>
      <td>1438992000</td>
      <td>1.650000</td>
      <td>1.850000</td>
      <td>0.500000</td>
      <td>1.400000</td>
      <td>2.740000e+02</td>
      <td>176.540000</td>
      <td>1.525000</td>
      <td>1.250000</td>
      <td>1.240000</td>
      <td>...</td>
      <td>1.825</td>
      <td>1.310</td>
      <td>1.645</td>
      <td>1438992000</td>
      <td>275.920000</td>
      <td>282.240000</td>
      <td>262.650000</td>
      <td>263.000000</td>
      <td>1.032690e+03</td>
      <td>3.801000</td>
    </tr>
    <tr>
      <th>2015-08-11</th>
      <td>1439251200</td>
      <td>1.400000</td>
      <td>1.400000</td>
      <td>0.550000</td>
      <td>1.100000</td>
      <td>2.429800e+02</td>
      <td>251.520000</td>
      <td>1.250000</td>
      <td>1.240000</td>
      <td>1.765000</td>
      <td>...</td>
      <td>1.310</td>
      <td>1.645</td>
      <td>1.520</td>
      <td>1439251200</td>
      <td>266.220000</td>
      <td>269.260000</td>
      <td>261.610000</td>
      <td>269.260000</td>
      <td>2.474900e+02</td>
      <td>0.943500</td>
    </tr>
    <tr>
      <th>2015-08-12</th>
      <td>1439337600</td>
      <td>1.100000</td>
      <td>1.400000</td>
      <td>0.900000</td>
      <td>1.380000</td>
      <td>4.768100e+02</td>
      <td>404.340000</td>
      <td>1.240000</td>
      <td>1.765000</td>
      <td>2.150000</td>
      <td>...</td>
      <td>1.645</td>
      <td>1.520</td>
      <td>1.410</td>
      <td>1439337600</td>
      <td>269.260000</td>
      <td>275.630000</td>
      <td>263.330000</td>
      <td>265.410000</td>
      <td>6.821900e+02</td>
      <td>2.558000</td>
    </tr>
    <tr>
      <th>2015-08-13</th>
      <td>1439424000</td>
      <td>1.380000</td>
      <td>2.150000</td>
      <td>1.300000</td>
      <td>2.150000</td>
      <td>5.862800e+02</td>
      <td>347.840000</td>
      <td>1.765000</td>
      <td>2.150000</td>
      <td>1.825000</td>
      <td>...</td>
      <td>1.520</td>
      <td>1.410</td>
      <td>1.515</td>
      <td>1439424000</td>
      <td>265.410000</td>
      <td>269.880000</td>
      <td>260.000000</td>
      <td>263.000000</td>
      <td>8.389900e+02</td>
      <td>3.189000</td>
    </tr>
    <tr>
      <th>2015-08-14</th>
      <td>1439510400</td>
      <td>2.150000</td>
      <td>2.150000</td>
      <td>2.140000</td>
      <td>2.150000</td>
      <td>5.348000e+01</td>
      <td>24.920000</td>
      <td>2.150000</td>
      <td>1.825000</td>
      <td>1.310000</td>
      <td>...</td>
      <td>1.410</td>
      <td>1.515</td>
      <td>1.615</td>
      <td>1439510400</td>
      <td>263.000000</td>
      <td>265.000000</td>
      <td>255.000000</td>
      <td>265.000000</td>
      <td>5.562300e+02</td>
      <td>2.129000</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2022-07-21</th>
      <td>1658361600</td>
      <td>1521.451055</td>
      <td>1605.000000</td>
      <td>1465.387047</td>
      <td>1575.676862</td>
      <td>7.156517e+06</td>
      <td>4682.421737</td>
      <td>1548.563959</td>
      <td>1555.724628</td>
      <td>1542.233655</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1658361600</td>
      <td>23215.188719</td>
      <td>23418.820243</td>
      <td>22351.900000</td>
      <td>23149.677861</td>
      <td>4.184934e+06</td>
      <td>182.833809</td>
    </tr>
    <tr>
      <th>2022-07-22</th>
      <td>1658448000</td>
      <td>1575.872814</td>
      <td>1645.030459</td>
      <td>1517.719293</td>
      <td>1535.576441</td>
      <td>1.189203e+07</td>
      <td>7500.311293</td>
      <td>1555.724628</td>
      <td>1542.233655</td>
      <td>1573.477193</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1658448000</td>
      <td>23146.815304</td>
      <td>23737.085142</td>
      <td>22515.733046</td>
      <td>22682.066631</td>
      <td>4.510801e+06</td>
      <td>194.966919</td>
    </tr>
    <tr>
      <th>2022-07-23</th>
      <td>1658534400</td>
      <td>1535.389663</td>
      <td>1596.377181</td>
      <td>1489.591155</td>
      <td>1549.077646</td>
      <td>7.230743e+06</td>
      <td>4702.563475</td>
      <td>1542.233655</td>
      <td>1573.477193</td>
      <td>1576.601465</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1658534400</td>
      <td>22678.513618</td>
      <td>22991.367833</td>
      <td>21960.675489</td>
      <td>22456.493172</td>
      <td>5.161666e+06</td>
      <td>231.804017</td>
    </tr>
    <tr>
      <th>2022-07-24</th>
      <td>1658620800</td>
      <td>1548.796096</td>
      <td>1662.782617</td>
      <td>1547.234866</td>
      <td>1598.158289</td>
      <td>1.115583e+07</td>
      <td>6991.906402</td>
      <td>1573.477193</td>
      <td>1576.601465</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1658620800</td>
      <td>22459.289450</td>
      <td>23011.476549</td>
      <td>22276.397044</td>
      <td>22585.673864</td>
      <td>7.447760e+06</td>
      <td>328.656887</td>
    </tr>
    <tr>
      <th>2022-07-25</th>
      <td>1658707200</td>
      <td>1597.724135</td>
      <td>1607.957404</td>
      <td>1551.686445</td>
      <td>1555.478795</td>
      <td>4.943563e+05</td>
      <td>314.096702</td>
      <td>1576.601465</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1658707200</td>
      <td>22583.963125</td>
      <td>22660.243006</td>
      <td>22255.526427</td>
      <td>22284.486376</td>
      <td>5.615498e+05</td>
      <td>25.058168</td>
    </tr>
  </tbody>
</table>
<p>2540 rows × 22 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-9339640f-b139-424d-b4e1-7b1340ae1a92')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-9339640f-b139-424d-b4e1-7b1340ae1a92 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-9339640f-b139-424d-b4e1-7b1340ae1a92');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
</div></div>
</div>
</section>
<section id="union-inputs">
<h2><span class="section-number">1.3. </span>Unión inputs<a class="headerlink" href="#union-inputs" title="Permalink to this headline">#</a></h2>
<p>Ya con ambas bases cargadas pasamos a unirlos. Por lo que nos quedaría un <em>dataframe</em> con información de las dos criptomonedas utilizadas, ethereum y bitcoin (siendo la primera la moneda a predecir), y las frecuencias de tópicos y términos de búsqueda históricas ajustadas de frecuencia temporal diaria. Debido a que todas las variables en el <em>dataset</em> deben ser numéricas, pasamos también a transformar todas las columnas en series numéricas, para evitar cualquier problema relacionado al <em>type</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># unión con merge</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">gtrends</span><span class="p">,</span> <span class="n">crypto_pol</span><span class="p">,</span> <span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># reordenar columnas, poniendo el target adelante</span>
<span class="n">cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">cols</span> <span class="o">=</span> <span class="n">cols</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">cols</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span>
<span class="c1"># pasamos todas las variables a numéricas</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-0ebacbb3-4e33-4ea8-993f-e163f5baf300">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Volume USDT_btc</th>
      <th>cryptocurrency_adjusted</th>
      <th>crypto_adjusted</th>
      <th>bitcoin_adjusted</th>
      <th>bitcoin price_adjusted</th>
      <th>ethereum_adjusted</th>
      <th>ethereum price_adjusted</th>
      <th>stock market_adjusted</th>
      <th>wall street_adjusted</th>
      <th>interest rate_adjusted</th>
      <th>...</th>
      <th>y_lag4</th>
      <th>y_lag5</th>
      <th>y_lag6</th>
      <th>y_lag7</th>
      <th>unix_btc</th>
      <th>open_btc</th>
      <th>high_btc</th>
      <th>low_btc</th>
      <th>close_btc</th>
      <th>Volume BTC_btc</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2015-08-08</th>
      <td>3.801000</td>
      <td>0.0</td>
      <td>0.48</td>
      <td>1.74</td>
      <td>0.27</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>1.45</td>
      <td>8.32</td>
      <td>16.38</td>
      <td>...</td>
      <td>2.150000</td>
      <td>1.825000</td>
      <td>1.310000</td>
      <td>1.645000</td>
      <td>1438992000</td>
      <td>275.920000</td>
      <td>282.240000</td>
      <td>262.650000</td>
      <td>263.000000</td>
      <td>1.032690e+03</td>
    </tr>
    <tr>
      <th>2015-08-11</th>
      <td>0.943500</td>
      <td>0.0</td>
      <td>0.88</td>
      <td>1.89</td>
      <td>0.49</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>2.61</td>
      <td>9.92</td>
      <td>19.74</td>
      <td>...</td>
      <td>1.825000</td>
      <td>1.310000</td>
      <td>1.645000</td>
      <td>1.520000</td>
      <td>1439251200</td>
      <td>266.220000</td>
      <td>269.260000</td>
      <td>261.610000</td>
      <td>269.260000</td>
      <td>2.474900e+02</td>
    </tr>
    <tr>
      <th>2015-08-12</th>
      <td>2.558000</td>
      <td>0.0</td>
      <td>0.87</td>
      <td>1.83</td>
      <td>0.47</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>3.48</td>
      <td>10.40</td>
      <td>20.58</td>
      <td>...</td>
      <td>1.310000</td>
      <td>1.645000</td>
      <td>1.520000</td>
      <td>1.410000</td>
      <td>1439337600</td>
      <td>269.260000</td>
      <td>275.630000</td>
      <td>263.330000</td>
      <td>265.410000</td>
      <td>6.821900e+02</td>
    </tr>
    <tr>
      <th>2015-08-13</th>
      <td>3.189000</td>
      <td>0.0</td>
      <td>0.87</td>
      <td>1.95</td>
      <td>0.35</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>2.61</td>
      <td>10.40</td>
      <td>18.48</td>
      <td>...</td>
      <td>1.645000</td>
      <td>1.520000</td>
      <td>1.410000</td>
      <td>1.515000</td>
      <td>1439424000</td>
      <td>265.410000</td>
      <td>269.880000</td>
      <td>260.000000</td>
      <td>263.000000</td>
      <td>8.389900e+02</td>
    </tr>
    <tr>
      <th>2015-08-14</th>
      <td>2.129000</td>
      <td>0.0</td>
      <td>0.83</td>
      <td>1.68</td>
      <td>0.32</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>2.32</td>
      <td>10.88</td>
      <td>16.80</td>
      <td>...</td>
      <td>1.520000</td>
      <td>1.410000</td>
      <td>1.515000</td>
      <td>1.615000</td>
      <td>1439510400</td>
      <td>263.000000</td>
      <td>265.000000</td>
      <td>255.000000</td>
      <td>265.000000</td>
      <td>5.562300e+02</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2022-06-10</th>
      <td>247.612626</td>
      <td>5.0</td>
      <td>6.46</td>
      <td>8.41</td>
      <td>8.40</td>
      <td>9.10</td>
      <td>7.56</td>
      <td>18.00</td>
      <td>6.48</td>
      <td>61.00</td>
      <td>...</td>
      <td>1208.954979</td>
      <td>1222.789134</td>
      <td>1152.640234</td>
      <td>1077.132870</td>
      <td>1654819200</td>
      <td>30093.109097</td>
      <td>30363.965398</td>
      <td>28863.371181</td>
      <td>29091.044620</td>
      <td>7.291809e+06</td>
    </tr>
    <tr>
      <th>2022-06-11</th>
      <td>177.801516</td>
      <td>5.0</td>
      <td>7.14</td>
      <td>8.99</td>
      <td>9.80</td>
      <td>15.34</td>
      <td>16.74</td>
      <td>8.70</td>
      <td>5.94</td>
      <td>53.00</td>
      <td>...</td>
      <td>1222.789134</td>
      <td>1152.640234</td>
      <td>1077.132870</td>
      <td>1041.031988</td>
      <td>1654905600</td>
      <td>29091.044620</td>
      <td>29428.819243</td>
      <td>28120.500000</td>
      <td>28408.993958</td>
      <td>5.092090e+06</td>
    </tr>
    <tr>
      <th>2022-06-12</th>
      <td>263.103277</td>
      <td>7.2</td>
      <td>8.16</td>
      <td>11.02</td>
      <td>11.20</td>
      <td>15.34</td>
      <td>15.39</td>
      <td>7.20</td>
      <td>6.03</td>
      <td>46.00</td>
      <td>...</td>
      <td>1152.640234</td>
      <td>1077.132870</td>
      <td>1041.031988</td>
      <td>1061.923798</td>
      <td>1654992000</td>
      <td>28423.198276</td>
      <td>28528.145588</td>
      <td>26578.603357</td>
      <td>26600.000000</td>
      <td>7.240280e+06</td>
    </tr>
    <tr>
      <th>2022-06-13</th>
      <td>1137.699906</td>
      <td>14.6</td>
      <td>15.98</td>
      <td>28.13</td>
      <td>35.00</td>
      <td>26.00</td>
      <td>27.00</td>
      <td>30.00</td>
      <td>7.38</td>
      <td>66.00</td>
      <td>...</td>
      <td>1077.132870</td>
      <td>1041.031988</td>
      <td>1061.923798</td>
      <td>1128.925291</td>
      <td>1655078400</td>
      <td>26594.422291</td>
      <td>26872.757299</td>
      <td>21965.104691</td>
      <td>22486.877767</td>
      <td>2.748774e+07</td>
    </tr>
    <tr>
      <th>2022-06-14</th>
      <td>889.665706</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>...</td>
      <td>1041.031988</td>
      <td>1061.923798</td>
      <td>1128.925291</td>
      <td>1127.223416</td>
      <td>1655164800</td>
      <td>22475.480021</td>
      <td>23304.627594</td>
      <td>20861.284171</td>
      <td>22150.540605</td>
      <td>1.953203e+07</td>
    </tr>
  </tbody>
</table>
<p>2499 rows × 54 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-0ebacbb3-4e33-4ea8-993f-e163f5baf300')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-0ebacbb3-4e33-4ea8-993f-e163f5baf300 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-0ebacbb3-4e33-4ea8-993f-e163f5baf300');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># visualización</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
DatetimeIndex: 2499 entries, 2015-08-08 to 2022-06-14
Data columns (total 54 columns):
 #   Column                       Non-Null Count  Dtype  
---  ------                       --------------  -----  
 0   Volume USDT_btc              2499 non-null   float64
 1   cryptocurrency_adjusted      2499 non-null   float64
 2   crypto_adjusted              2499 non-null   float64
 3   bitcoin_adjusted             2499 non-null   float64
 4   bitcoin price_adjusted       2499 non-null   float64
 5   ethereum_adjusted            2499 non-null   float64
 6   ethereum price_adjusted      2499 non-null   float64
 7   stock market_adjusted        2499 non-null   float64
 8   wall street_adjusted         2499 non-null   float64
 9   interest rate_adjusted       2499 non-null   float64
 10  fed_adjusted                 2499 non-null   float64
 11  bankruptcy_adjusted          2499 non-null   float64
 12  china_adjusted               2499 non-null   float64
 13  united states_adjusted       2499 non-null   float64
 14  war_adjusted                 2499 non-null   float64
 15  russia_adjusted              2499 non-null   float64
 16  cryptocurrency_top_adjusted  2499 non-null   float64
 17  bitcoin_top_adjusted         2499 non-null   float64
 18  investment_top_adjusted      2499 non-null   float64
 19  ethereum_top_adjusted        2499 non-null   float64
 20  exchange_top_adjusted        2499 non-null   float64
 21  bankrup_top_adjusted         2499 non-null   float64
 22  stock_market_top_adjusted    2499 non-null   float64
 23  inflation_adjusted           2499 non-null   float64
 24  taxes_adjusted               2499 non-null   float64
 25  digital_wallet_top_adjusted  2499 non-null   float64
 26  covid19_adjusted             2499 non-null   float64
 27  pandemic_adjusted            2499 non-null   float64
 28  elon musk_adjusted           2499 non-null   float64
 29  do kwon_adjusted             2499 non-null   float64
 30  future_commodities_adjusted  2499 non-null   float64
 31  banking_adjusted             2499 non-null   float64
 32  foreign_currency_adjusted    2499 non-null   float64
 33  unix_eth                     2499 non-null   int64  
 34  open_eth                     2499 non-null   float64
 35  high_eth                     2499 non-null   float64
 36  low_eth                      2499 non-null   float64
 37  close_eth                    2499 non-null   float64
 38  Volume ETH_eth               2499 non-null   float64
 39  Volume USDT_eth              2499 non-null   float64
 40  eth_close_open_mean          2499 non-null   float64
 41  y_lag1                       2499 non-null   float64
 42  y_lag2                       2499 non-null   float64
 43  y_lag3                       2499 non-null   float64
 44  y_lag4                       2499 non-null   float64
 45  y_lag5                       2499 non-null   float64
 46  y_lag6                       2499 non-null   float64
 47  y_lag7                       2499 non-null   float64
 48  unix_btc                     2499 non-null   int64  
 49  open_btc                     2499 non-null   float64
 50  high_btc                     2499 non-null   float64
 51  low_btc                      2499 non-null   float64
 52  close_btc                    2499 non-null   float64
 53  Volume BTC_btc               2499 non-null   float64
dtypes: float64(52), int64(2)
memory usage: 1.0 MB
</pre></div>
</div>
</div>
</div>
<p>Ya con la base construida se pasa a guardar el dataset en formato <em>.csv</em> con el nombre de <em>input</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># guardar el dataset en carpeta data set del proyecto en google drive</span>
<span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
<span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;drive&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;input.csv&#39;</span><span class="p">)</span>
<span class="o">!</span>cp input.csv <span class="s2">&quot;/content/drive/MyDrive/ds/proyecto/dataset/&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mounted at drive
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./sections"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../intro.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Introducción</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../intro_anExp.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">2. </span>Análisis exploratorio</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Diego Bertolin, Antonella Bulla, Juan Manuel Hernandez, Agustin Staudt<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>